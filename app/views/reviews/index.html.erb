<div class="container">
  <div class="bike-reviews">
    <h2>Reviews</h2>

    <% if @reviews.any? %>
      <%# Calculate the average rating and display it as stars %>
      <% average_rating = @reviews.average(:rating).to_f.round(1) %>
      <p>Average Rating:
        <% (1..5).each do |star| %>
          <i style="color: #ffcc00" class="fa stars <%= average_rating >= star ? 's' : 'r' %> fa-star"></i> <!-- filled or regular star -->
        <% end %>
        (<%= average_rating %> based on <%= @reviews.count %> reviews)
      </p>

      <% @reviews.each do |review| %>
        <div class="review">
          <p><strong><%= review.reviewer_name %></strong> - <%= review.rating %>/5</p>
          <p><%= review.content %></p>
          <%# Display rating as stars %>
          <p>
            <% (1..5).each do |star| %>
              <i style="color: #ffcc00" class="fa stars<%= review.rating >= star ? 's' : 'r' %> fa-star"></i> <!-- filled or regular star -->
            <% end %>
          </p>
        </div>
      <% end %>
    <% else %>
      <p>No reviews yet.</p>
    <% end %>
  </div>
</div>
